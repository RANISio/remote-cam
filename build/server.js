module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=11)}([function(t,e){t.exports=require("body-parser")},function(t,e){t.exports=require("express")},function(t,e){t.exports=require("url")},function(t,e){t.exports=require("ws")},function(t,e){t.exports=require("styled-components")},function(t,e){t.exports=require("babel-runtime/core-js/object/keys")},function(t,e){t.exports=require("html-minifier")},function(t,e){t.exports=require("compression")},function(t,e){t.exports=require("http")},function(t,e,n){"use strict";n.r(e);var r=n(8),o=n.n(r),i=n(7),s=n.n(i),c=n(6),u=n(1),a=n.n(u),l=n(0),f=n.n(l),d=n(5),p=n.n(d),m={},v=n(4),b=n(10),y=b.client.css,h=b.client.js;y&&(y=y.replace("/","")),h=h.replace("/","");var x=a()().disable("x-powered-by").use(s()()).use(a.a.static("/Users/ranis/Workspace/remote-camera/build/public")).use(f.a.json()).use(f.a.urlencoded({extended:!0})).post("/",function(t,e){var n=t.body,r=n.roomName,o=n.role,i=m[r];return r&&o?i?2===p()(i).length?void e.status(412).send("This room is full"):i[0].role===o?void e.status(409).send("The role in the room already exists"):void e.status(201).send("Success!"):void e.status(200).send("Success!"):void e.status(400).send("Parameters are not provided")}).get("/",function(t,e){var n=(new v.ServerStyleSheet).getStyleTags();e.send(Object(c.minify)('<!DOCTYPE HTML>\n\t\t\t<html lang="en">\n\t\t\t\t<head>\n\t\t\t\t\t<title>Remote Camera</title>\n\n\t\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">\n\t\t\t\t\t<meta http-equiv="X-UA-Compatible" content="IE=edge">\n\t\t\t\t\t<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n\n\t\t\t\t\t<meta name="description" content="">\n\n\t\t\t\t\t<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500|Material+Icons">\n\n\t\t\t\t\t'+(y?'<link rel="stylesheet" href="'+y+'">':"")+n+'\n\t\t\t\t\t<script defer type="application/javascript" src="'+h+'"><\/script>\n\t\t\t\t</head>\n\t\t\t\t<body>\n\t\t\t\t\t<div id="root"></div>\n\t\t\t\t</body>\n\t\t\t</html>',{collapseWhitespace:!0,removeComments:!0,minifyCSS:!0,minifyJS:!0}))}),g=n(3),S=n.n(g),j=n(2),q=n.n(j),T=o.a.createServer(x);!function(t){var e=new S.a.Server({server:t,clientTracking:!0});function n(){this.isAlive=!0}e.on("connection",function(t,r){t.isAlive=!0,t.on("pong",n),setInterval(function(){e.clients.forEach(function(t){if(!1===t.isAlive)return delete m[t.room],t.terminate();t.isAlive=!1,t.ping(function(){})})},3e4);var o=q.a.parse(r.url,!0).query,i=o.room,s=o.role;t.room=i,t.role=s,m[i]||(m[i]=[]),m[i].push(t),t.on("message",function(e){m[t.room]&&m[t.room].forEach(function(n){n.send&&n!==t&&n.send(e)})}),t.on("close",function(){delete m[t.room]})})}(T);T.listen("3000",function(t){t&&console.log(t),console.log("Server started at 127.0.0.1:3000.\n")})},function(t){t.exports={client:{js:"/static/js/bundle.71bd7a9b.js"}}},function(t,e,n){t.exports=n(9)}]);